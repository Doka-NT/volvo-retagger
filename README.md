volvo-retagger
==============

Конвертер ID3-тегов в кодировку ISO-8859-5 для правильного отображения в автомобилях Volvo.

Скачать
-------

См. секцию [Releases](https://github.com/makkarpov/volvo-retagger/releases).

Использование
-------------

Программа умеет как графический, так и консольный режимы. Графический особого интереса для описания не представляет, опции консольного режима следующие:

```
java -jar volvo-retagger.jar [опции] <входные директории>
```

* `--cp866`: переключает выходную кодировку на **CP-866** для работы в терминале Windows
* `--numbers`: включает использование чисел для именования файлов
* `--hashes`: включает использование хешей для именования файлов
* `--no-flatten`: выключает сплющивание файловой системы (без этой опции файлы будут сохранены в формате `Исполнитель - Композиция.mp3` в выходной директории, с ней - в формате `Исполнитель/Композиция.mp3`)

### Входная структура каталога

Т.к. в тегах может быть много чего интересного, программа их полностью сносит и пишет поверх новые. Берет она их из структуры файловой системы, которая должна быть следующей: в корневой директории (которая и подается на вход программе) должна быть директория с именем исполнителя, внутри файлы должны иметь имена песен, т.е.:

```
root/ <- подается в качестве входной
|- Владимир Высоцкий
|  |- Очи черные.mp3
|  |   ...
|  \- Белое безмолвие.mp3
|   ...
\- Агата Кристи
   |- Сказочная тайга.mp3
   |   ...
   \- Как на войне.mp3
```

### Замена букв

Как показывает практика, не все русские буквы присутствуют в знакогенераторе. Решается эта проблема (если не учитывать патчинг самого знакогенератора) только заменой этих букв на другие. Для этого служат два файла с одинаковым синтаксисом, которые должны лежать в рабочей директории:

* `names_replacements.txt` — контролирует замены букв в именах файлов;
* `tags_replacements.txt` — контролирует замены букв в тегах.

Синтаксис очень простой — на каждой строке должно быть по две буквы, первая ­— что заменять, вторая — на что.

Сообщения об ошибках и просьбы об улучшениях
--------------------------------------------

Если вы в состоянии добавить необходимую функциональность/исправить ошибку самостоятельно — вы можете послать это исправление через функцию "**Pull Request**" на Github.

Если же нет — вам необходимо создать **Issue**, в котором описать ошибку/желаемую функциональность.

Так же сообщения можно направлять в ЛС на [clubvolvo.ru](http://clubvolvo.ru/member.php?u=37892) или на [me@makakrpov.ru](mailto:me@makkarpov.ru).